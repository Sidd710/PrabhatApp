<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Documents</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <!-- If files exist, display them -->
    <ion-row *ngIf="files && files.length > 0; else noFiles">
      <ion-col size="6" size-md="4" size-lg="3" *ngFor="let file of files">
        <ion-card (click)="openFile(file.url)" class="file-card">
          <ion-card-header>
            <ion-icon name="document-outline" size="large"></ion-icon>
          </ion-card-header>
          <ion-card-content>
            <h3>{{ file.filename }}</h3>
            <p>{{ file.created_at | date: 'medium' }}</p>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- No files message -->
  <ng-template #noFiles>
    <div class="no-files-container">
      <ion-text color="danger">
        <h3>No documents found.</h3>
      </ion-text>
    </div>
  </ng-template>

  <!-- File preview -->
  <div *ngIf="selectedFileUrl">
    <h3>Preview:</h3>
    <iframe [src]="selectedFileUrl" width="100%" height="500px"></iframe>
  </div>
</ion-content>
